---
layout: post
title: Upgrade notes for MvvmCross 5.x on iOS
date: '2017-06-28T21:16:00.002+02:00'
author: Tomasz Cielecki
tags:
- MvvmCross
- Xamarin
modified_time: '2017-06-28T21:16:47.543+02:00'
blogger_id: tag:blogger.com,1999:blog-3433282516380174051.post-1415302733116558907
blogger_orig_url: http://blog.ostebaronen.dk/2017/06/upgrade-notes-for-mvvmcross-5x-on-ios.html
---

This post is just a couple of notes about some of the changes that affected some of my apps when updating to MvvmCross 5.x on Xamarin.iOS.<br /><h2>IMvxModalIosView or MvxModalNavSupportIosViewPresenter could not be found</h2><div>MvvmCross has replaced the presenter logic, which before looked for the <i>IMvxModalIosView</i>&nbsp;interface in order to figure out how to present a ViewController. You should instead use the&nbsp;<a href="https://github.com/MvvmCross/MvvmCross/blob/develop/MvvmCross/iOS/iOS/Views/Presenters/Attributes/MvxModalPresentationAttribute.cs"><i>MvxModalPresentation</i>&nbsp;attribute</a> for your ViewController.<br /><br />Previously you also had to use <i>MvxModalNavSupportIosViewPresenter</i>&nbsp;for it to understand the <i>IMvxModalIosView</i>&nbsp;interface. This is now all baked into the default presenter.</div><div><br /></div><div>For this attribute you can also give it a couple of hints about how to display itself through a couple of properties.</div><div><br /></div><div><ul><li><b>Animated</b>, set this to false to disable animations when presenting your modal ViewController, defaults to <b>true</b></li><li><b>PreferredContentSize</b>, set this to your content size on iPad, since they are not shown full screen default there</li><li><b>ModalTransitionStyle</b>, set this to the desired transition style, cover, flip, cross dissolve or curl, this will not work when Animated is set to false, defaults to <b>CoverVertical</b></li><li><b>ModalPresentationStyle</b>, set this to the desired presentation style. This depends on the LayoutSize and in most cases on iPhone will default to <b>FullScreen</b>. This is mostly to change presentation on iPads.</li></ul><div>Here is how the changes will reflect in your code:</div></div><br /><div><script src="https://gist.github.com/Cheesebaron/669271f8e79752225b32c0797185c8f4.js?file=modal.cs"></script></div><br />Changing to the new presenter for Modals is pretty painless.<br /><br /><h2>CreateNavigationController has changed signature</h2><div>The <i>MvxIosViewPresenter </i>has changed the signature of <i>CreateNavigationController</i>, this is luckily a very simple change.</div><div><br /><div><script src="https://gist.github.com/Cheesebaron/669271f8e79752225b32c0797185c8f4.js?file=createnavcontroller.cs"></script></div></div><h2>MvxTabBarViewController is presented as child?</h2><div>Another thing in the new presenter for iOS, is that some ViewControllers, cannot be presented as children and need to be presented as root instead. This is something that will be fixed in MvvmCross 5.0.4 since this is unwanted behavior. You should be in control of how you want your ViewControllers presented. For now in 5.0.0-5.0.3 you can make a small change to fix this.<br /><br /><br /><div><script src="https://gist.github.com/Cheesebaron/669271f8e79752225b32c0797185c8f4.js?file=custompresenter.cs"></script></div></div><h2>MvvmCross.Dialog is gone?</h2><div>Yes. It was unmaintained and upstream MonoTouch.Dialog has been unmaintained&nbsp;for just as long time. The MvvmCross team does not want to support something that no one wants to fix.</div><div><br /></div><div>What should you use instead? How about Xamarin.Forms? Or plain iOS Tables and Views? Sorry, no shortcuts here. You could recompile Dialogs from MvvmCross 4.x against 5.x yourself.<br /><br />What I have opted for is using <i>MvxTableViewController</i>&nbsp;and making my own Adapters for cases where I need to display different kind of cells, groupings etc. It is not that much work and you are not dependent on a 3rd party library here. You can still bind <i>MvxTableViewCell</i>s to whatever you want and TwoWay bindings work much better than MonoTouch.Dialogs ever did.</div><div><br /></div><div><br /></div>